<%= breadcrumbs ["Produits", products_path], ["Nouveau produit", nil] %>

<h1>Mettre en vente</h1>

<%= form_with model: @product do |form| %>
  <% if @product.errors.any? %>
    <div class="alert alert-danger">
      <ul>
        <% @product.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= form.label :name, "Nom du produit", class: "form-label" %>
    <%= form.text_field :name, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= form.label :price, "Prix (€)", class: "form-label" %>
    <%= form.number_field :price, step: 0.01, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= form.label :description, "Description", class: "form-label" %>
    <%= form.text_area :description, rows: 4, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= form.label :photos, "Photos du produit (max 10)", class: "form-label" %>
    <%= form.file_field :photos, multiple: true, accept: "image/*", class: "form-control" %>
    <small class="form-text text-muted">Formats acceptés : JPEG, PNG, GIF, WebP - Max 5 MB par photo</small>
  </div>

  <%= form.submit "Mettre en vente", class: "btn btn-flat" %>
  <%= link_to "Annuler", products_path, class: "btn btn-ghost" %>
<% end %>
